<!DOCTYPE html>
<html>
<head>
<title>Village Premier League</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f5f5f5;
  margin: 0;
  padding: 0;
}

/* ===== Header Banner ===== */
.header {
  background: url("images/vplleague.jpeg") center/cover no-repeat;
  height: 220px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  text-shadow: 1px 1px 4px #000;
}

.header h1 {
  background: rgba(0,0,0,0.5);
  padding: 12px 24px;
  border-radius: 8px;
}

/* ===== Search ===== */
.search-box {
  text-align: center;
  margin: 20px;
}

.search-box input {
  width: 320px;
  padding: 10px;
  font-size: 16px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

/* ===== Teams Section ===== */
.teams {
  background: #fff;
  padding: 20px;
  margin: 20px;
  border-radius: 10px;
}

.teams h3 {
  margin-bottom: 10px;
}

.team-list span {
  display: inline-block;
  background: #e3e3e3;
  padding: 8px 14px;
  margin: 6px;
  border-radius: 20px;
  font-weight: bold;
}

/* ===== Player Cards ===== */
.container {
  text-align: center;
}

.card {
  width: 220px;
  padding: 12px;
  margin: 12px;
  background: #fff;
  border-radius: 10px;
  display: inline-block;
  text-align: center;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.card img {
  width: 150px;
  height: 150px;
  object-fit: cover;
  border-radius: 8px;
  border: 1px solid #ddd;
}

.card h4 {
  margin: 8px 0;
}
</style>
</head>

<body>

<!-- ===== Banner ===== -->
<div class="header">
  <h1>Village Premier League â€“ Season 1</h1>
</div>

<!-- ===== Search ===== -->
<div class="search-box">
  <input type="text" id="searchInput" placeholder="Search by Player / Team / Format">
</div>

<!-- ===== Teams ===== -->
<div class="teams">
  <h3>Teams</h3>
  <div class="team-list">
    <span>Tiger Boys</span>
    <span>Iyal Sports Club</span>
    <span>VCR Riders</span>
    <span>UCCN</span>
    <span>No Fears</span>
    <span>Delta Kings</span>
    <span>Airlines</span>
  </div>
</div>
<div class="header">
  <h1>Registered Players</h1>
</div>
<!-- ===== Players ===== -->
<div class="container" id="players"></div>

<script>
let playersData = [];

fetch("https://script.google.com/macros/s/AKfycbz2wjl_WZw82cWzxYZjNruJNsDzD4G5gxGYNqfyMPXTdp9v68xyZvWakJCcru19riwrEw/exec")
.then(res => res.json())
.then(data => {
  playersData = data;
  renderPlayers(data);
});

function renderPlayers(data) {
  let html = "";

  data.forEach(p => {
    html += `
      <div class="card">
        <img 
          src="${p.Image || 'images/vplleague.jpeg'}"
          onerror="this.src='images/vplleague.jpeg'">
        <h4>${p["Player Name"] || ""}</h4>
        <p>Age: ${p.Age || ""}</p>
        <p>${p["Playing Format"] || ""}</p>
        <p>ðŸ“ž ${p.Phone_Number || ""}</p>
        <p>${p["Playing Style"] || ""}</p>
        <p><b>Team:</b> ${p["Current Team Name"] || ""}</p>
      </div>
    `;
  });

  document.getElementById("players").innerHTML = html;
}

/* ===== Search Logic ===== */
document.getElementById("searchInput").addEventListener("keyup", function () {
  const value = this.value.toLowerCase();
  const filtered = playersData.filter(p =>
    (p["Player Name"] || "").toLowerCase().includes(value) ||
    (p["Current Team Name"] || "").toLowerCase().includes(value) ||
    (p["Playing Format"] || "").toLowerCase().includes(value)
  );
  renderPlayers(filtered);
});
</script>

</body>
</html>
